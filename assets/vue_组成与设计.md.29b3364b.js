import{_ as s,o as n,c as a,a as l}from"./app.5a1d1f50.js";const p="/assets/vue-design.feca3a67.png",E=JSON.parse('{"title":"Vueè®¾è®¡æ€è·¯","description":"","frontmatter":{},"headers":[{"level":2,"title":"é¡¹ç›®æ–‡ä»¶ç»“æ„","slug":"é¡¹ç›®æ–‡ä»¶ç»“æ„","link":"#é¡¹ç›®æ–‡ä»¶ç»“æ„","children":[]},{"level":2,"title":"Vueçš„çœŸé¢ç›®","slug":"vueçš„çœŸé¢ç›®","link":"#vueçš„çœŸé¢ç›®","children":[]},{"level":2,"title":"Vueçš„åŸå‹æ–¹æ³•å±æ€§","slug":"vueçš„åŸå‹æ–¹æ³•å±æ€§","link":"#vueçš„åŸå‹æ–¹æ³•å±æ€§","children":[{"level":3,"title":"initMixin","slug":"initmixin","link":"#initmixin","children":[]},{"level":3,"title":"stateMixin","slug":"statemixin","link":"#statemixin","children":[]},{"level":3,"title":"eventsMixin","slug":"eventsmixin","link":"#eventsmixin","children":[]},{"level":3,"title":"lifecycleMixin","slug":"lifecyclemixin","link":"#lifecyclemixin","children":[]},{"level":3,"title":"renderMixin","slug":"rendermixin","link":"#rendermixin","children":[]}]},{"level":2,"title":"Vueçš„é™æ€æ–¹æ³•å±æ€§","slug":"vueçš„é™æ€æ–¹æ³•å±æ€§","link":"#vueçš„é™æ€æ–¹æ³•å±æ€§","children":[{"level":3,"title":"/src/core/index.jsæ–‡ä»¶","slug":"src-core-index-jsæ–‡ä»¶","link":"#src-core-index-jsæ–‡ä»¶","children":[]},{"level":3,"title":"/src/platforms/web/runtime/index.jsæ–‡ä»¶","slug":"src-platforms-web-runtime-index-jsæ–‡ä»¶","link":"#src-platforms-web-runtime-index-jsæ–‡ä»¶","children":[]},{"level":3,"title":"/src/platforms/web/entry-runtime-with-compiler.jsæ–‡ä»¶","slug":"src-platforms-web-entry-runtime-with-compiler-jsæ–‡ä»¶","link":"#src-platforms-web-entry-runtime-with-compiler-jsæ–‡ä»¶","children":[]}]},{"level":2,"title":"å®ä¾‹åŒ–è¿‡ç¨‹","slug":"å®ä¾‹åŒ–è¿‡ç¨‹","link":"#å®ä¾‹åŒ–è¿‡ç¨‹","children":[]},{"level":2,"title":"Vueçš„æ•´ä½“è®¾è®¡","slug":"vueçš„æ•´ä½“è®¾è®¡","link":"#vueçš„æ•´ä½“è®¾è®¡","children":[]}],"relativePath":"vue/ç»„æˆä¸è®¾è®¡.md","lastUpdated":1693935732000}'),o={name:"vue/ç»„æˆä¸è®¾è®¡.md"},e=l(`<h1 id="vueè®¾è®¡æ€è·¯" tabindex="-1">Vueè®¾è®¡æ€è·¯ <a class="header-anchor" href="#vueè®¾è®¡æ€è·¯" aria-hidden="true">#</a></h1><h2 id="é¡¹ç›®æ–‡ä»¶ç»“æ„" tabindex="-1"><code>é¡¹ç›®æ–‡ä»¶ç»“æ„</code> <a class="header-anchor" href="#é¡¹ç›®æ–‡ä»¶ç»“æ„" aria-hidden="true">#</a></h2><p>åœ¨<code>Vue</code>é¡¹ç›®ä¸­ï¼Œæ‰€æœ‰æ ¸å¿ƒçš„ä»£ç éƒ½æ˜¯åœ¨<code>src</code>ç›®å½•ä¸‹å®Œæˆï¼Œä¸ºäº†æ›´å¥½çš„äº†è§£<code>Vue</code>çš„åº•å±‚å®ç°ï¼Œæˆ‘ä»¬é¦–å…ˆæ¥äº†è§£ä¸€ä¸‹<code>src</code>ç›®å½•ä¸‹ä»£ç çš„ç»„ç»‡æƒ…å†µï¼Œä»å…¨å±€å…¥æ‰‹ï¼Œåœ¨è„‘æµ·é‡Œç•™ä¸‹ç®€å•çš„å°è±¡ï¼Œæ–¹ä¾¿åç»­çš„å­¦ä¹ ã€‚ï¼ˆæ³¨æ„ï¼šå½“å‰ä½¿ç”¨<code>Vue</code>çš„ç‰ˆæœ¬ä¸º<code>2.6.12</code>ï¼Œä¸åŒç‰ˆæœ¬çš„å†…å®¹å¯èƒ½ä¼šæœ‰æ‰€å·®å¼‚ï¼‰</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">.</span></span>
<span class="line"><span style="color:#BABED8;">â”œâ”€â”€ compiler  </span><span style="color:#676E95;font-style:italic;">// ç¼–è¯‘æ¨¡å—ï¼šå°† template ç¼–è¯‘æˆä¸ºå¯ä»¥ç”Ÿæˆ vnode çš„ render å‡½æ•°</span></span>
<span class="line"><span style="color:#BABED8;">â”‚   â”œâ”€â”€ codeframe</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">js</span></span>
<span class="line"><span style="color:#BABED8;">â”‚   â”œâ”€â”€ codegen             </span><span style="color:#676E95;font-style:italic;">// ä»£ç ç”Ÿæˆæ–‡ä»¶ï¼šæ ¹æ® ast æ ‘å¯ç”Ÿæˆ vnode çš„ renderä»£ç </span></span>
<span class="line"><span style="color:#BABED8;">â”‚   â”œâ”€â”€ create</span><span style="color:#89DDFF;">-</span><span style="color:#BABED8;">compiler</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">js  </span><span style="color:#676E95;font-style:italic;">// åˆ›å»ºç¼–è¯‘å™¨çš„å·¥å‚å‡½æ•°</span></span>
<span class="line"><span style="color:#BABED8;">â”‚   â”œâ”€â”€ directives          </span><span style="color:#676E95;font-style:italic;">// æŒ‡ä»¤è§£æï¼šv-on, v-bind, v-model</span></span>
<span class="line"><span style="color:#BABED8;">â”‚   â”œâ”€â”€ error</span><span style="color:#89DDFF;">-</span><span style="color:#BABED8;">detector</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">js    </span></span>
<span class="line"><span style="color:#BABED8;">â”‚   â”œâ”€â”€ helpers</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">js          </span><span style="color:#676E95;font-style:italic;">// ç¼–è¯‘ç›¸å…³æ–¹æ³•ï¼Œå¦‚å±æ€§è·å–ç­‰æ–¹æ³•</span></span>
<span class="line"><span style="color:#BABED8;">â”‚   â”œâ”€â”€ index</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">js            </span><span style="color:#676E95;font-style:italic;">// å…¥å£æ–‡ä»¶</span></span>
<span class="line"><span style="color:#BABED8;">â”‚   â”œâ”€â”€ optimizer</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">js        </span><span style="color:#676E95;font-style:italic;">// ç¼–è¯‘ä¼˜åŒ–ï¼šå°† ast æ ‘è¿›è¡Œä¼˜åŒ–</span></span>
<span class="line"><span style="color:#BABED8;">â”‚   â”œâ”€â”€ parser                      </span><span style="color:#676E95;font-style:italic;">// html è§£ææ–‡ä»¶ï¼šå°† template è§£ææˆ ast æ ‘ğŸŒ²</span></span>
<span class="line"><span style="color:#BABED8;">â”‚   â””â”€â”€ to</span><span style="color:#89DDFF;">-</span><span style="color:#C792EA;">function</span><span style="color:#BABED8;">.</span><span style="color:#82AAFF;">js</span><span style="color:#BABED8;">      </span><span style="color:#676E95;font-style:italic;">// åˆ›å»ºç¼–è¯‘å™¨çš„å·¥å‚å‡½æ•°</span></span>
<span class="line"><span style="color:#BABED8;">â”œâ”€â”€ </span><span style="color:#82AAFF;">core</span><span style="color:#BABED8;">     </span><span style="color:#676E95;font-style:italic;">// æ„é€ å‡½æ•°æ ¸å¿ƒæ¨¡å—ï¼šæ„å»ºVueæ„é€ å‡½æ•°ï¼Œæ·»åŠ åŸå‹æ–¹æ³•ï¼Œå®ç°å®Œæˆæ¸²æŸ“æµç¨‹çš„_initæ–¹æ³•</span></span>
<span class="line"><span style="color:#BABED8;">â”‚   â”œâ”€â”€ </span><span style="color:#82AAFF;">components</span><span style="color:#BABED8;">  </span><span style="color:#676E95;font-style:italic;">// è‡ªå¸¦çš„å…¨å±€ç»„ä»¶ï¼Œå¦‚ keep-alive</span></span>
<span class="line"><span style="color:#BABED8;">â”‚   â”œâ”€â”€ </span><span style="color:#82AAFF;">config</span><span style="color:#BABED8;">.</span><span style="color:#82AAFF;">js</span><span style="color:#BABED8;">   </span><span style="color:#676E95;font-style:italic;">// é…ç½®ç›¸å…³</span></span>
<span class="line"><span style="color:#BABED8;">â”‚   â”œâ”€â”€ </span><span style="color:#82AAFF;">global</span><span style="color:#BABED8;">-</span><span style="color:#82AAFF;">api</span><span style="color:#BABED8;">  </span><span style="color:#676E95;font-style:italic;">// å…¨å±€apiï¼Œå¦‚ Vue.use, extend, mixin, componentç­‰æ–¹æ³•</span></span>
<span class="line"><span style="color:#BABED8;">â”‚   â”œâ”€â”€ </span><span style="color:#82AAFF;">index</span><span style="color:#BABED8;">.</span><span style="color:#82AAFF;">js</span><span style="color:#BABED8;">    </span><span style="color:#676E95;font-style:italic;">// å…¥å£æ–‡ä»¶ï¼Œåœ¨ Vue ä¸ŠæŒ‚è½½å…¨å±€æ–¹æ³•å¹¶å¯¼å‡º Vue</span></span>
<span class="line"><span style="color:#BABED8;">â”‚   â”œâ”€â”€ </span><span style="color:#82AAFF;">instance</span><span style="color:#BABED8;">    </span><span style="color:#676E95;font-style:italic;">// æ„é€ å‡½æ•°èµ·å§‹ä½ç½®</span></span>
<span class="line"><span style="color:#BABED8;">â”‚   â”œâ”€â”€ </span><span style="color:#82AAFF;">observer</span><span style="color:#BABED8;">    </span><span style="color:#676E95;font-style:italic;">// å“åº”å¼åŸç†</span></span>
<span class="line"><span style="color:#BABED8;">â”‚   â”œâ”€â”€ </span><span style="color:#82AAFF;">util</span><span style="color:#BABED8;">        </span><span style="color:#676E95;font-style:italic;">// ä¸€äº›å·¥å…·æ–¹æ³•ï¼ŒåŒ…å« mergeOptions, nextTick ç­‰æ–¹æ³•çš„å®ç°</span></span>
<span class="line"><span style="color:#BABED8;">â”‚   â””â”€â”€ </span><span style="color:#82AAFF;">vdom</span><span style="color:#BABED8;">        </span><span style="color:#676E95;font-style:italic;">// è™šæ‹Ÿ dom</span></span>
<span class="line"><span style="color:#BABED8;">â”œâ”€â”€ </span><span style="color:#82AAFF;">platforms</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">// å¹³å°ç›¸å…³ï¼ŒåŒ…å«ä¸åŒå¹³å°çš„ä¸åŒæ„å»ºå…¥å£ï¼Œè¿™é‡Œä¸»è¦ç ”ç©¶webç«¯</span></span>
<span class="line"><span style="color:#BABED8;">â”‚   â”œâ”€â”€ </span><span style="color:#82AAFF;">weex</span></span>
<span class="line"><span style="color:#BABED8;">â”‚   â””â”€â”€ </span><span style="color:#82AAFF;">web</span></span>
<span class="line"><span style="color:#BABED8;">â”‚       â”œâ”€â”€ </span><span style="color:#82AAFF;">compiler</span><span style="color:#BABED8;">   </span><span style="color:#676E95;font-style:italic;">// ä¸å¹³å°ç›¸å…³çš„ç¼–è¯‘</span></span>
<span class="line"><span style="color:#BABED8;">â”‚       â”œâ”€â”€ </span><span style="color:#82AAFF;">entry</span><span style="color:#BABED8;">-</span><span style="color:#82AAFF;">compiler</span><span style="color:#BABED8;">.</span><span style="color:#82AAFF;">js</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">// vue-template-compiler åŒ…çš„å…¥å£æ–‡ä»¶</span></span>
<span class="line"><span style="color:#BABED8;">â”‚       â”œâ”€â”€ </span><span style="color:#82AAFF;">entry</span><span style="color:#BABED8;">-</span><span style="color:#82AAFF;">runtime</span><span style="color:#BABED8;">-</span><span style="color:#82AAFF;">with</span><span style="color:#BABED8;">-</span><span style="color:#82AAFF;">compiler</span><span style="color:#BABED8;">.</span><span style="color:#82AAFF;">js</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">// æ„å»ºå…¥å£ï¼ŒåŒ…å«ç¼–è¯‘å™¨</span></span>
<span class="line"><span style="color:#BABED8;">â”‚       â”œâ”€â”€ </span><span style="color:#82AAFF;">entry</span><span style="color:#BABED8;">-</span><span style="color:#82AAFF;">runtime</span><span style="color:#BABED8;">.</span><span style="color:#82AAFF;">js</span><span style="color:#BABED8;">  </span><span style="color:#676E95;font-style:italic;">// æ„å»ºå…¥å£ï¼Œä¸åŒ…å«ç¼–è¯‘å™¨ï¼Œä¸æ”¯æŒ template è½¬æ¢ render</span></span>
<span class="line"><span style="color:#BABED8;">â”‚       â”œâ”€â”€ </span><span style="color:#82AAFF;">entry</span><span style="color:#BABED8;">-</span><span style="color:#82AAFF;">server</span><span style="color:#BABED8;">-</span><span style="color:#82AAFF;">basic</span><span style="color:#BABED8;">-</span><span style="color:#82AAFF;">renderer</span><span style="color:#BABED8;">.</span><span style="color:#82AAFF;">js</span></span>
<span class="line"><span style="color:#BABED8;">â”‚       â”œâ”€â”€ </span><span style="color:#82AAFF;">entry</span><span style="color:#BABED8;">-</span><span style="color:#82AAFF;">server</span><span style="color:#BABED8;">-</span><span style="color:#82AAFF;">renderer</span><span style="color:#BABED8;">.</span><span style="color:#82AAFF;">js</span></span>
<span class="line"><span style="color:#BABED8;">â”‚       â”œâ”€â”€ </span><span style="color:#82AAFF;">runtime</span><span style="color:#BABED8;">   </span><span style="color:#676E95;font-style:italic;">// ä¸å¹³å°ç›¸å…³çš„æ„å»º</span></span>
<span class="line"><span style="color:#BABED8;">â”‚       â”œâ”€â”€ </span><span style="color:#82AAFF;">server</span></span>
<span class="line"><span style="color:#BABED8;">â”‚       â””â”€â”€ </span><span style="color:#82AAFF;">util</span></span>
<span class="line"><span style="color:#BABED8;">â”‚</span></span>
<span class="line"><span style="color:#BABED8;">â”œâ”€â”€ </span><span style="color:#82AAFF;">server</span><span style="color:#BABED8;">    </span><span style="color:#676E95;font-style:italic;">// æœåŠ¡ç«¯æ¸²æŸ“ç›¸å…³</span></span>
<span class="line"><span style="color:#BABED8;">â”œâ”€â”€ </span><span style="color:#82AAFF;">sfc</span><span style="color:#BABED8;">       </span><span style="color:#676E95;font-style:italic;">// åŒ…å«å•æ–‡ä»¶ç»„ä»¶(.vueæ–‡ä»¶)çš„è§£æé€»è¾‘ï¼Œç”¨äºvue-template-compileråŒ…</span></span>
<span class="line"><span style="color:#BABED8;">â””â”€â”€ </span><span style="color:#82AAFF;">shared</span><span style="color:#BABED8;">    </span><span style="color:#676E95;font-style:italic;">// ä»£ç åº“é€šç”¨ä»£ç </span></span>
<span class="line"><span style="color:#BABED8;">    â”œâ”€â”€ </span><span style="color:#82AAFF;">constants</span><span style="color:#BABED8;">.</span><span style="color:#82AAFF;">js</span></span>
<span class="line"><span style="color:#BABED8;">    â””â”€â”€ </span><span style="color:#82AAFF;">util</span><span style="color:#BABED8;">.</span><span style="color:#82AAFF;">js</span></span>
<span class="line"></span></code></pre></div><p>ä»¥ä¸Šæ˜¯<code>Vue</code>é¡¹ç›®ä¸­ä¸»è¦æ–‡ä»¶ç›®å½•ï¼Œé‡Œé¢é™„å¸¦ä¸€äº›æ³¨é‡Šï¼Œè®²è§£äº†æ¯”è¾ƒä¸»è¦æ¨¡å—çš„åŠŸèƒ½åŠä½œç”¨ã€‚åˆšå¼€å§‹å­¦ä¹ æ—¶åªåšç®€å•äº†è§£å³å¯ï¼Œåé¢æˆ‘ä»¬ä¼šé€æ­¥è¯¦ç»†å­¦ä¹ å…¶ä¸­çš„ä¸€äº›æ¨¡å—ï¼Œä»è€Œä»åŸç†çº§åˆ«ç†è§£æ•´ä¸ª<code>Vue</code>é¡¹ç›®çš„è®¾è®¡ä¸å®ç°ã€‚</p><h2 id="vueçš„çœŸé¢ç›®" tabindex="-1"><code>Vue</code>çš„çœŸé¢ç›® <a class="header-anchor" href="#vueçš„çœŸé¢ç›®" aria-hidden="true">#</a></h2><p>è¦æƒ³çœŸæ­£çš„äº†è§£<code>Vue</code>æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œé¦–å…ˆæˆ‘ä»¬éœ€è¦æ‰¾åˆ°<code>Vue</code>æ˜¯åœ¨å“ªé‡Œè¢«å®šä¹‰çš„ã€‚æˆ‘ä»¬å…ˆæ‰¾åˆ°<code>package.json</code>æ–‡ä»¶ä¸‹çš„<code>scripts</code>é…ç½®ã€‚<code>scripts</code>é‡Œå­˜æ”¾çš„éƒ½æ˜¯è¿è¡Œå‘½ä»¤çš„åˆ«åå½¢å¼ï¼Œé€šè¿‡å‘½ä»¤å¯ä»¥è½»æ¾æ‰¾åˆ°å¯¹åº”å‘½ä»¤æ‰§è¡Œæ–‡ä»¶çš„è·¯å¾„ã€‚</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">scripts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">: </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">dev</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">rollup -w -c scripts/config.js --environment TARGET:web-full-dev</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>è¿™é‡Œå½“è¿è¡Œ<code>dev</code>å‘½ä»¤å®é™…ä¸Šæ˜¯è¿è¡Œ<code>scripts/config.js</code>æ–‡ä»¶ï¼Œè®©æˆ‘ä»¬æ‰¾åˆ°<code>scripts/config.js</code>æ–‡ä»¶ã€‚</p><p>é€šè¿‡è¿è¡Œå‘½ä»¤å‚æ•°æˆ‘ä»¬å¯ä»¥çŸ¥é“<code>p<wbr>rocess.env.TARGET</code>çš„å€¼ä¸º<code>web-full-dev</code>ï¼Œå› æ­¤å¯ä»¥åœ¨<code>builds</code>é‡Œæ‰¾åˆ°å¯¹åº”çš„é…ç½®æ–‡ä»¶ï¼Œå¦‚ä¸‹</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> builds </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">web-full-dev</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#F07178;">entry</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">resolve</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">web/entry-runtime-with-compiler.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#F07178;">dest</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">resolve</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">dist/vue.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#F07178;">format</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">umd</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#F07178;">env</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">development</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#F07178;">alias</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">he</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./entity-decoder</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">      banner</span></span>
<span class="line"><span style="color:#BABED8;">   </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">...</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">genConfig</span><span style="color:#BABED8;">(process</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">env</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">TARGET)</span></span>
<span class="line"></span></code></pre></div><p>é€šè¿‡<code>entry</code>ï¼Œæˆ‘ä»¬æ‰¾åˆ°<code>web/entry-runtime-with-compiler.js</code>æ–‡ä»¶ï¼š</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> Vue </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./runtime/index</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> mount </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Vue</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">$mount</span></span>
<span class="line"><span style="color:#FFCB6B;">Vue</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">$mount</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#BABED8;font-style:italic;">el</span><span style="color:#89DDFF;">?:</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">|</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Element</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#BABED8;font-style:italic;">hydrating</span><span style="color:#89DDFF;">?:</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">boolean</span></span>
<span class="line"><span style="color:#89DDFF;">):</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Component</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">...</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#BABED8;">Vue</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">compile </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> compileToFunctions</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#BABED8;"> Vue</span></span>
<span class="line"></span></code></pre></div><p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ç»ˆäºæ‰¾åˆ°äº†<code>Vue</code>ç›¸å…³çš„æ–‡ä»¶ï¼Œè¿™ä¹Ÿæ˜¯<code>Vue</code>çš„èµ·å§‹å…¥å£ã€‚æ¥ç€æ ¹æ®<code>Vue</code>çš„å¼•å…¥è·¯å¾„ï¼Œæ‰¾åˆ°<code>./runtime/index</code>æ–‡ä»¶ï¼š</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> Vue </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">core/index</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">...</span></span>
<span class="line"><span style="color:#FFCB6B;">Vue</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">__patch__ </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> inBrowser </span><span style="color:#89DDFF;">?</span><span style="color:#BABED8;"> patch </span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> noop</span></span>
<span class="line"><span style="color:#FFCB6B;">Vue</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">$mount</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#BABED8;font-style:italic;">el</span><span style="color:#89DDFF;">?:</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">|</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Element</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#BABED8;font-style:italic;">hydrating</span><span style="color:#89DDFF;">?:</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">boolean</span></span>
<span class="line"><span style="color:#89DDFF;">):</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Component</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">...</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#BABED8;"> Vue</span></span>
<span class="line"></span></code></pre></div><p>è¿™é‡Œè¿˜ä¸æ˜¯<code>Vue</code>çœŸæ­£çš„èµ·å§‹ç‚¹ï¼Œç»§ç»­æŸ¥æ‰¾<code>core/index</code>æ–‡ä»¶ï¼š</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> Vue </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./instance/index</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#82AAFF;">initGlobalAPI</span><span style="color:#BABED8;">(Vue)</span></span>
<span class="line"><span style="color:#89DDFF;">...</span></span>
<span class="line"><span style="color:#BABED8;">Vue</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">version </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">__VERSION__</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#BABED8;"> Vue</span></span>
<span class="line"></span></code></pre></div><p>å‘ç°ä»ç„¶ä¸æ˜¯<code>Vue</code>çš„èµ·å§‹ç‚¹ï¼Œç»§ç»­æŸ¥æ‰¾<code>&#39;./instance/index&#39;</code>æ–‡ä»¶ï¼š</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">initMixin</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./init</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">stateMixin</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./state</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">renderMixin</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./render</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">eventsMixin</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./events</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">lifecycleMixin</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./lifecycle</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">warn</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">../util/index</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// Vue æ„é€ å‡½æ•°</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">Vue</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">options</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#BABED8;">process</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">env</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">NODE_ENV</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">!==</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">production</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&amp;&amp;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">!</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">this</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">instanceof</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">Vue</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  ) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">warn</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Vue is a constructor and should be called with the \`new\` keyword</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">this.</span><span style="color:#82AAFF;">_init</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">options</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// å‘åŸå‹ä¸Šæ·»åŠ æ–¹æ³•å±æ€§</span></span>
<span class="line"><span style="color:#82AAFF;">initMixin</span><span style="color:#BABED8;">(Vue)</span></span>
<span class="line"><span style="color:#82AAFF;">stateMixin</span><span style="color:#BABED8;">(Vue)</span></span>
<span class="line"><span style="color:#82AAFF;">eventsMixin</span><span style="color:#BABED8;">(Vue)</span></span>
<span class="line"><span style="color:#82AAFF;">lifecycleMixin</span><span style="color:#BABED8;">(Vue)</span></span>
<span class="line"><span style="color:#82AAFF;">renderMixin</span><span style="color:#BABED8;">(Vue)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#BABED8;"> Vue</span></span>
<span class="line"></span></code></pre></div><p>å¥½äº†ï¼Œå¤§åŠŸå‘Šæˆï¼è´¹åŠ²åƒè¾›ä¸‡è‹¦ç»ˆäºæ‰¾åˆ°äº†<code>Vue</code>çš„çœŸæ­£å®šä¹‰çš„ä½ç½®ï¼å¯ä»¥çœ‹å‡º<code>Vue</code>å…¶å®å°±æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œè€Œæ„é€ å‡½æ•°å†…éƒ¨ä»…ä»…åªæ˜¯è°ƒç”¨äº†<code>_init</code>æ–¹æ³•ï¼Œçœ‹ä¸Šå»éå¸¸ç®€å•ã€‚ä½†æ˜¯<code>Vue</code>æ˜¯å¦‚ä½•é€šè¿‡è¿™ä¹ˆç®€å•çš„å®šä¹‰å®ç°é‚£ä¹ˆå¤æ‚çš„åŠŸèƒ½å‘¢ï¼Ÿè¿™é‡Œå°±è¦æ¶‰åŠåˆ°<code>æ„é€ å‡½æ•°</code>ã€<code>åŸå‹</code>ã€<code>å®ä¾‹</code>çš„æ¦‚å¿µäº†ï¼Œä¸äº†è§£è¿™äº›æ¦‚å¿µçš„å»ºè®®å‚è€ƒã€Šjavascripté«˜çº§è®¾è®¡ç¨‹åºã€‹ä¸­åŸå‹ç« èŠ‚æ¥è¿›è¡Œå­¦ä¹ ã€‚ä¸‹é¢æˆ‘ä»¬é€šè¿‡ä¸‹æ–¹ä¸‰ä¸ªæ–¹é¢æ¥ä»‹ç»<code>Vue</code>çš„å®ç°ã€‚</p><ol><li>åŸå‹æ–¹æ³•å±æ€§ï¼šé€šè¿‡ 5 ä¸ª <code>init</code> æ–¹æ³•ï¼Œå‘<code>Vue</code>çš„åŸå‹ä¸Šæ·»åŠ æ–¹æ³•ï¼Œ</li><li>é™æ€æ–¹æ³•å±æ€§ï¼šåœ¨å¯¼å…¥<code>Vue</code>æ„é€ å‡½æ•°çš„è¿‡ç¨‹ä¸­ï¼Œå‘<code>Vue</code>æ„é€ å‡½æ•°ä¸Šæ·»åŠ é™æ€æ–¹æ³•ï¼Œä¹Ÿæœ‰å‘åŸå‹ä¸Šæ·»åŠ æ–¹æ³•</li><li>å®ä¾‹åŒ–ï¼šåœ¨å®ä¾‹åŒ–çš„è¿‡ç¨‹ä¸­ï¼Œæ‰§è¡Œ<code>_init</code>æ–¹æ³•ï¼Œå®Œæˆæ•´ä¸ª<code>Vue</code>åˆå§‹åŒ–åˆ°æ¸²æŸ“çš„é€»è¾‘ã€‚</li></ol><h2 id="vueçš„åŸå‹æ–¹æ³•å±æ€§" tabindex="-1">Vueçš„åŸå‹æ–¹æ³•å±æ€§ <a class="header-anchor" href="#vueçš„åŸå‹æ–¹æ³•å±æ€§" aria-hidden="true">#</a></h2><h3 id="initmixin" tabindex="-1"><code>initMixin</code> <a class="header-anchor" href="#initmixin" aria-hidden="true">#</a></h3><p><code>initMixin</code>æ–¹æ³•ä¸»è¦å®ç°äº†<code>_init</code>æ–¹æ³•ã€‚</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">initMixin</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">Vue</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Class</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Component</span><span style="color:#89DDFF;">&gt;)</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">Vue</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">_init</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">options</span><span style="color:#89DDFF;">?:</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">Object</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// init å®ç°å†…å®¹ï¼Œç”±äºè¿™é‡Œä»…åšæ¦‚è§ˆï¼Œæ‰€ä»¥å…·ä½“å®ç°å‡å·²çœç•¥</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">...</span><span style="color:#F07178;"> </span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>ä»ä¸Šé¢<code>Vue</code>æ„é€ å‡½æ•°æˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œè¿™ä¸ªæ–¹æ³•åœ¨å®ä¾‹åŒ–æ—¶æœ‰è¢«è°ƒç”¨ï¼Œå®ƒä¸»è¦çš„ä½œç”¨æ˜¯å®ç°ï¼šé€‰é¡¹çš„åˆå¹¶ï¼Œæ•°æ®åˆå§‹åŒ–ï¼ˆå¦‚å“åº”å¼å¤„ç†ï¼‰ï¼Œä»¥åŠè§¦å‘ç¼–è¯‘å’Œæ¸²æŸ“çš„æµç¨‹ï¼Œæ‰€ä»¥ååˆ†é‡è¦ã€‚è¿™é‡Œä¹Ÿåªæ˜¯å…ˆåšä¸€ä¸ªäº†è§£ï¼Œåç»­çš„å®ä¾‹åŒ–ç« èŠ‚å°†éƒ½ä¼šä»è¿™ä¸ªæ–¹æ³•å¼€å§‹åˆ†æã€‚</p><h3 id="statemixin" tabindex="-1"><code>stateMixin</code> <a class="header-anchor" href="#statemixin" aria-hidden="true">#</a></h3><p><code>stateMixin</code>ä¸»è¦å®ç°äº†<code>data,props</code>çš„ä»£ç†åŠŸèƒ½ï¼Œå³å½“æˆ‘ä»¬è®¿é—®<code>$data</code>æ—¶ï¼Œå®é™…è®¿é—®çš„æ˜¯<code>_data</code>ã€‚å¦å¤–åœ¨éç”Ÿäº§ç¯å¢ƒä¸‹ï¼Œä¼šå¯¹<code>$data,$props</code>è¿›è¡Œ <code>set</code>å¤„ç†ï¼Œæ¯æ¬¡è®¾ç½®æ–°çš„å€¼æ—¶éƒ½ä¼šæ‰“å°æç¤ºï¼Œæ‰€ä»¥å®é™…ä¸Š<code>$data,$props</code>éƒ½æ˜¯åªè¯»å±æ€§ã€‚</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">stateMixin</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">Vue</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Class</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Component</span><span style="color:#89DDFF;">&gt;)</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">dataDef</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#BABED8;">dataDef</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#BABED8;">_data</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">propsDef</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#BABED8;">propsDef</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#BABED8;">_props</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// åªè¯»å±æ€§</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#BABED8;">process</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">env</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">NODE_ENV</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">!==</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">production</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#BABED8;">dataDef</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">set</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#82AAFF;">warn</span><span style="color:#F07178;">(</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Avoid replacing instance root $data. </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Use nested data properties instead.</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">this</span></span>
<span class="line"><span style="color:#F07178;">      )</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#BABED8;">propsDef</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">set</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#82AAFF;">warn</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">$props is readonly.</span><span style="color:#89DDFF;">\`</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#BABED8;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">defineProperty</span><span style="color:#F07178;">(</span><span style="color:#FFCB6B;">Vue</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">prototype</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">$data</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">dataDef</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#BABED8;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">defineProperty</span><span style="color:#F07178;">(</span><span style="color:#FFCB6B;">Vue</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">prototype</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">$props</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">propsDef</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">Vue</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">$set</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">set</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">Vue</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">$delete</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">del</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">Vue</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">$watch</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">...</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>é™¤æ­¤ä¹‹å¤–ï¼Œè¿™é‡Œè¿˜åœ¨<code>Vue</code>åŸå‹ä¸ŠæŒ‚è½½äº†æ¯”è¾ƒå¸¸è§çš„ä¸‰ä¸ªæ–¹æ³•ï¼š<code>$set</code>ï¼Œ<code>$delete</code>ï¼Œ<code>$watch</code>ã€‚</p><h3 id="eventsmixin" tabindex="-1"><code>eventsMixin</code> <a class="header-anchor" href="#eventsmixin" aria-hidden="true">#</a></h3><p>å’Œ<code>node</code>é‡Œ<code>EventEmitter</code>ç±»ä¼¼ï¼Œ<code>eventsMixin</code>å®ç°äº†å››ä¸ªæ–¹æ³•ï¼š<code>$on,$off,$once,$emit</code>ï¼Œç”¨äºç›‘å¬ï¼Œè§¦å‘ï¼Œé”€æ¯äº‹ä»¶ã€‚</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">eventsMixin</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">Vue</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Class</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Component</span><span style="color:#89DDFF;">&gt;)</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">hookRE</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;font-style:italic;">^</span><span style="color:#C3E88D;">hook:</span><span style="color:#89DDFF;">/</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">Vue</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">$on</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">...</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">Vue</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">$once</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">...</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">Vue</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">$off</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">...</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">Vue</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">$emit</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">...</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h3 id="lifecyclemixin" tabindex="-1"><code>lifecycleMixin</code> <a class="header-anchor" href="#lifecyclemixin" aria-hidden="true">#</a></h3><p><code>lifecycleMixin</code>å®ç°äº†ä¸‰ä¸ªæ–¹æ³•ï¼š<code>_update</code>æ–¹æ³•éå¸¸é‡è¦ï¼Œå®ƒä¸»è¦è´Ÿè´£å°†<code>vnode</code>ç”ŸæˆçœŸå®èŠ‚ç‚¹ã€‚</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">lifecycleMixin</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">Vue</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Class</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Component</span><span style="color:#89DDFF;">&gt;)</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// æ›´æ–°ï¼Œå°† vnode ç”Ÿæˆ çœŸå®èŠ‚ç‚¹</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">Vue</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">_update</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">...</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// å¼ºåˆ¶åˆ·æ–°</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">Vue</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">$forceUpdate</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">...</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// é”€æ¯</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">Vue</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">$destroy</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">...</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h3 id="rendermixin" tabindex="-1"><code>renderMixin</code> <a class="header-anchor" href="#rendermixin" aria-hidden="true">#</a></h3><p><code>renderMixin</code>ä¸»è¦åšäº†ä¸‰é¡¹å·¥ä½œ</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">renderMixin</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">Vue</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Class</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Component</span><span style="color:#89DDFF;">&gt;)</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#82AAFF;">installRenderHelpers</span><span style="color:#F07178;">(</span><span style="color:#FFCB6B;">Vue</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">prototype</span><span style="color:#F07178;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">Vue</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">$nextTick</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">fn</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">Function</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">nextTick</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">fn</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">Vue</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">_render</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">():</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">VNode</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">vnode</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><ol><li><code>installRenderHelpers</code>å‡½æ•°ç”¨äºæ·»åŠ <code>render</code>ç›¸å…³æ–¹æ³•ï¼Œåœ¨ç¼–è¯‘ç¯èŠ‚æœ€åç”Ÿæˆçš„ä»£ç ï¼Œéƒ½æ˜¯ç”±è¿™äº›æ–¹æ³•æ‹¼æ¥è€Œæˆçš„ä»£ç ï¼Œæ‰€ä»¥ä¹Ÿæ˜¯éå¸¸çš„é‡è¦ï¼Œåœ¨è¿™é‡Œå…ˆæ··ä¸ªçœ¼ç†Ÿã€‚</li></ol><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#BABED8;">  target</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">_o </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> markOnce</span></span>
<span class="line"><span style="color:#BABED8;">  target</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">_n </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> toNumber</span></span>
<span class="line"><span style="color:#BABED8;">  target</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">_s </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> toString</span></span>
<span class="line"><span style="color:#BABED8;">  target</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">_l </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> renderList</span></span>
<span class="line"><span style="color:#BABED8;">  target</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">_t </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> renderSlot</span></span>
<span class="line"><span style="color:#BABED8;">  target</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">_q </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> looseEqual</span></span>
<span class="line"><span style="color:#BABED8;">  target</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">_i </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> looseIndexOf</span></span>
<span class="line"><span style="color:#BABED8;">  target</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">_m </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> renderStatic</span></span>
<span class="line"><span style="color:#BABED8;">  target</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">_f </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> resolveFilter</span></span>
<span class="line"><span style="color:#BABED8;">  target</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">_k </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> checkKeyCodes</span></span>
<span class="line"><span style="color:#BABED8;">  target</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">_b </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> bindObjectProps</span></span>
<span class="line"><span style="color:#BABED8;">  target</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">_v </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> createTextVNode</span></span>
<span class="line"><span style="color:#BABED8;">  target</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">_e </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> createEmptyVNode</span></span>
<span class="line"><span style="color:#BABED8;">  target</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">_u </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> resolveScopedSlots</span></span>
<span class="line"><span style="color:#BABED8;">  target</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">_g </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> bindObjectListeners</span></span>
<span class="line"><span style="color:#BABED8;">  target</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">_d </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> bindDynamicKeys</span></span>
<span class="line"><span style="color:#BABED8;">  target</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">_p </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> prependModifier</span></span>
<span class="line"></span></code></pre></div><ol><li><code>$nextTick</code>æ–¹æ³•ï¼Œåœ¨ä¸‹ä¸€æ¬¡äº‹ä»¶å¾ªç¯è§¦å‘ï¼Œæ¶‰åŠåˆ°äº‹ä»¶å¾ªç¯æœºåˆ¶ã€‚</li><li><code>_render</code>æ–¹æ³•ï¼Œç”¨äºç”Ÿæˆ<code>vnode</code>ã€‚</li></ol><h2 id="vueçš„é™æ€æ–¹æ³•å±æ€§" tabindex="-1">Vueçš„é™æ€æ–¹æ³•å±æ€§ <a class="header-anchor" href="#vueçš„é™æ€æ–¹æ³•å±æ€§" aria-hidden="true">#</a></h2><p>é€šè¿‡ä¸Šé¢5ä¸ª<code>init</code>æ–¹æ³•æˆ‘ä»¬å·²ç»äº†è§£äº†è®¸å¤šåŸå‹æ–¹æ³•çš„æ·»åŠ è¿‡ç¨‹ï¼Œä½†æ˜¯åœ¨<code>Vue</code>ä¸­è¿˜æœ‰å¾ˆå¤šå…¨å±€æ–¹æ³•ï¼Œæ¯”å¦‚<code>Vue.component,Vue.use</code>ç­‰æ–¹æ³•ï¼Œå®ƒä»¬éƒ½æ˜¯æ„é€ å‡½æ•°çš„é™æ€å±æ€§ï¼Œä¸‹é¢æˆ‘ä»¬çœ‹çœ‹è¿™äº›é™æ€å±æ€§æ˜¯å¦‚ä½•æ·»åŠ çš„ã€‚ä¸å¯»æ‰¾<code>Vue</code>çš„èµ·å§‹ä½ç½®è¿‡ç¨‹æ°æ°ç›¸åï¼Œè¿™æ¬¡æˆ‘ä»¬ä»<code>Vue</code>çš„èµ·å§‹æ–‡ä»¶å‡ºå‘ï¼Œçœ‹çœ‹æœ€åå¯¼å‡ºçš„<code>Vue</code>æ˜¯æ€æ ·çš„ã€‚</p><h3 id="src-core-index-jsæ–‡ä»¶" tabindex="-1"><code>/src/core/index.js</code>æ–‡ä»¶ <a class="header-anchor" href="#src-core-index-jsæ–‡ä»¶" aria-hidden="true">#</a></h3><p>è¿™æ˜¯ç¬¬ä¸€å±‚å¼•å…¥<code>Vue</code>æ„é€ å‡½æ•°çš„æ–‡ä»¶</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">initGlobalAPI</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./global-api/index</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">initGlobalAPI</span><span style="color:#BABED8;">(Vue)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ... ä¸­é—´çœç•¥</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">Vue</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">version </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">__VERSION__</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span></code></pre></div><p>è¿™é‡Œæˆ‘ä»¬çœ‹ä¸€ä¸‹<code>initGlobalAPI</code>æ–¹æ³•ï¼Œæ‰“å¼€<code>core/global-api/index.js</code>æ–‡ä»¶</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">initGlobalAPI</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">Vue</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">GlobalAPI</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#BABED8;">Vue</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">util</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#BABED8;">warn</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#BABED8;">extend</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#BABED8;">mergeOptions</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#BABED8;">defineReactive</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#BABED8;">Vue</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">set</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">set</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#BABED8;">Vue</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">delete</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">del</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#BABED8;">Vue</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">nextTick</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">nextTick</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// 2.6 explicit observable API</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#BABED8;">Vue</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">observable</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">T</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">(obj: T): T =&gt; </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#82AAFF;">observe</span><span style="color:#BABED8;">(obj)</span></span>
<span class="line"><span style="color:#BABED8;">    return obj</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">  Vue.options = Object.create(null)</span></span>
<span class="line"><span style="color:#BABED8;">  ASSET_TYPES.forEach(type =&gt; </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">    Vue</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">options[type </span><span style="color:#89DDFF;">+</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">s</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">] </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">create</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">null</span><span style="color:#BABED8;">)</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">  Vue.options._base = Vue</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">  extend(Vue.options.components, builtInComponents)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">  initUse(Vue)</span></span>
<span class="line"><span style="color:#BABED8;">  initMixin(Vue)</span></span>
<span class="line"><span style="color:#BABED8;">  initExtend(Vue)</span></span>
<span class="line"><span style="color:#BABED8;">  initAssetRegisters(Vue)</span></span>
<span class="line"><span style="color:#BABED8;">}</span></span>
<span class="line"></span></code></pre></div><p>è¿™é‡ŒæŒ‚è½½äº†å¾ˆå¤šé™æ€æ–¹æ³•ï¼Œ<code>Vue</code>ä¸­å¤§å¤šæ•°çš„å…¨å±€æ–¹æ³•éƒ½åœ¨è¿™ä¸ªä½ç½®æ·»åŠ çš„ï¼Œè¿™é‡Œæˆ‘ä»¬ç€é‡åˆ†æä¸€ä¸‹<code>options</code>ï¼š</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> builtInComponents </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">../components/index</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">  </span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">  Vue</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">options </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">create</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">null</span><span style="color:#BABED8;">)</span></span>
<span class="line"><span style="color:#BABED8;">  ASSET_TYPES</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">forEach</span><span style="color:#BABED8;">(</span><span style="color:#BABED8;font-style:italic;">type</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#BABED8;">Vue</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">options</span><span style="color:#F07178;">[</span><span style="color:#BABED8;">type</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">s</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">] </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">create</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">null</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">  Vue</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">options</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">_base </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> Vue</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#82AAFF;">extend</span><span style="color:#BABED8;">(Vue</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">options</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">components</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> builtInComponents)  </span></span>
<span class="line"></span></code></pre></div><p>å¯ä»¥çœ‹å‡ºï¼Œåœ¨<code>Vue</code>æ„é€ å‡½æ•°ä¸Šæ·»åŠ äº†ä¸€ä¸ª<code>options</code>å±æ€§ï¼ˆæ³¨æ„ï¼è¿™é‡Œæ˜¯é™æ€å±æ€§ï¼Œä¸ºæ„é€ å‡½æ•°æ‰€æœ‰ï¼ŒåŒºåˆ«äºåœ¨å®ä¾‹åŒ–ä¼ å…¥çš„<code>options</code>ï¼‰ã€‚éšååˆé€šè¿‡éå†<code>ASSET_TYPES</code>ï¼Œåœ¨<code>options</code>ä¸Šæ·»åŠ äº†<code>components,directives,filters</code>å±æ€§ã€‚å¦å¤–è¿˜æ·»åŠ äº†<code>_base</code>ï¼ŒæŒ‡å‘å½“å‰æ„é€ å‡½æ•°<code>Vue</code>ã€‚æœ€åé€šè¿‡<code>extend</code>æ–¹æ³•å°†<code>builtInComponents</code>åˆå¹¶åˆ°<code>options.components</code>å½“ä¸­ã€‚è¿™é‡Œçš„<code>builtInComponents</code>å®é™…ä¸Šå°±æ˜¯<code>Vue</code>è‡ªå¸¦çš„ç»„ä»¶ï¼Œå³<code>keep-alive</code>ç»„ä»¶ã€‚æ‰€ä»¥æœ€ç»ˆ<code>Vue.options</code>çš„å†…å®¹å¦‚ä¸‹ï¼š</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;">// Vue.options å†…å®¹</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">components</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#BABED8;">KeepAlive</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">filters</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{},</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">directives</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{},</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">_base</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">Vue</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>è¿™é‡Œä¹‹æ‰€ä»¥é¢å¤–æèµ·ï¼Œæ˜¯å› ä¸ºåœ¨åç»­é€‰é¡¹åˆå¹¶æ—¶ï¼Œä¼šä½¿ç”¨æ­¤å¤„çš„<code>options</code>è¿›è¡Œåˆå¹¶ã€‚</p><h3 id="src-platforms-web-runtime-index-jsæ–‡ä»¶" tabindex="-1"><code>/src/platforms/web/runtime/index.js</code>æ–‡ä»¶ <a class="header-anchor" href="#src-platforms-web-runtime-index-jsæ–‡ä»¶" aria-hidden="true">#</a></h3><p>è¿™é‡Œæ˜¯ç¬¬äºŒå±‚å¼•å…¥<code>Vue</code>çš„æ–‡ä»¶ï¼Œä¸»è¦ç»™<code>Vue</code>å¤„ç†å¹³å°ç›¸å…³çš„ä¸€äº›æ–¹æ³•</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> Vue </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">core/index</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> config </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">core/config</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">extend</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">noop</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">shared/util</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">mountComponent</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">core/instance/lifecycle</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">devtools</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">inBrowser</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">core/util/index</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#BABED8;">query</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#BABED8;">mustUseProp</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#BABED8;">isReservedTag</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#BABED8;">isReservedAttr</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#BABED8;">getTagNamespace</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#BABED8;">isUnknownElement</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">web/util/index</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">patch</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./patch</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> platformDirectives </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./directives/index</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> platformComponents </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./components/index</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// install platform specific utils</span></span>
<span class="line"><span style="color:#BABED8;">Vue</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">config</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">mustUseProp </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> mustUseProp</span></span>
<span class="line"><span style="color:#BABED8;">Vue</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">config</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">isReservedTag </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> isReservedTag</span></span>
<span class="line"><span style="color:#BABED8;">Vue</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">config</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">isReservedAttr </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> isReservedAttr</span></span>
<span class="line"><span style="color:#BABED8;">Vue</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">config</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">getTagNamespace </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> getTagNamespace</span></span>
<span class="line"><span style="color:#BABED8;">Vue</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">config</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">isUnknownElement </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> isUnknownElement</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// install platform runtime directives &amp; components</span></span>
<span class="line"><span style="color:#82AAFF;">extend</span><span style="color:#BABED8;">(Vue</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">options</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">directives</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> platformDirectives)</span></span>
<span class="line"><span style="color:#82AAFF;">extend</span><span style="color:#BABED8;">(Vue</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">options</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">components</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> platformComponents)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">Vue</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">__patch__ </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> inBrowser </span><span style="color:#89DDFF;">?</span><span style="color:#BABED8;"> patch </span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> noop</span></span>
<span class="line"><span style="color:#FFCB6B;">Vue</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">$mount</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">...</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#BABED8;"> Vue</span></span>
<span class="line"></span></code></pre></div><p>è¿™é‡Œé¦–å…ˆç»™<code>Vue.config</code>æ·»åŠ äº†ä¸€ç³»åˆ—æ–¹æ³•ï¼Œæ³¨æ„ï¼Œè¿™äº›æ–¹æ³•ä¹‹æ‰€ä»¥åœ¨è¿™é‡Œæ·»åŠ è€Œä¸æ˜¯åœ¨<code>core/index.js</code>æ–‡ä»¶é‡Œæ·»åŠ ï¼Œæ˜¯å› ä¸ºè¿™é‡Œçš„æ–¹æ³•éƒ½ä¸å¹³å°ç›¸å…³ï¼Œä¸åŒçš„å¹³å°çš„æ–¹æ³•å®ç°ä¹Ÿä¼šä¸ä¸€æ ·ã€‚</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#82AAFF;">extend</span><span style="color:#BABED8;">(Vue</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">options</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">directives</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> platformDirectives)</span></span>
<span class="line"><span style="color:#82AAFF;">extend</span><span style="color:#BABED8;">(Vue</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">options</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">components</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> platformComponents)</span></span>
<span class="line"></span></code></pre></div><p>è¿™ä¸¤ä¸ª<code>extend</code>å®é™…ä¸Šè¿›ä¸€æ­¥æ‰©å……äº†<code>Vue.options</code>æ–¹æ³•ï¼Œæ‰©å……åçš„å†…å®¹å¦‚ä¸‹ï¼š</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;">// Vue.options å†…å®¹</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">components</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#BABED8;">KeepAlive</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// æ–°å¢ platformComponents</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#BABED8;">Transition</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// æ–°å¢ platformComponents</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#BABED8;">TransitionGroup</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">filters</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{},</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">directives</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// æ–°å¢ platformDirectives</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#BABED8;">model</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// æ–°å¢ platformDirectives</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#BABED8;">show</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">_base</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">Vue</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬å¯ä»¥ä¸ç”¨æ³¨å†Œä¹Ÿèƒ½å…¨å±€ä½¿ç”¨<code>v-model,v-show</code>çš„åŸå› äº†ï¼Œå› ä¸º<code>Vue</code>å·²ç»å¸®æˆ‘ä»¬å…¨å±€æ³¨å†Œäº†ã€‚</p><h3 id="src-platforms-web-entry-runtime-with-compiler-jsæ–‡ä»¶" tabindex="-1"><code>/src/platforms/web/entry-runtime-with-compiler.js</code>æ–‡ä»¶ <a class="header-anchor" href="#src-platforms-web-entry-runtime-with-compiler-jsæ–‡ä»¶" aria-hidden="true">#</a></h3><p>è¿™æ˜¯æœ€åä¸€å±‚å¼•å…¥<code>Vue</code>äº†ï¼š</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> Vue </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./runtime/index</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">...</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> mount </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Vue</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">$mount</span></span>
<span class="line"><span style="color:#FFCB6B;">Vue</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">$mount</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#BABED8;font-style:italic;">el</span><span style="color:#89DDFF;">?:</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">|</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Element</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#BABED8;font-style:italic;">hydrating</span><span style="color:#89DDFF;">?:</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">boolean</span></span>
<span class="line"><span style="color:#89DDFF;">):</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Component</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">...</span></span>
<span class="line"><span style="color:#F07178;">    </span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">mount</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">call</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">this,</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">el</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">hydrating</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">Vue</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">compile </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> compileToFunctions</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#BABED8;"> Vue</span></span>
<span class="line"></span></code></pre></div><p>è¿™é‡Œä¸»è¦æ˜¯é‡æ–°å®ç°äº†<code>$mount</code>æ–¹æ³•ï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆåŸå…ˆåœ¨<code>runtime/index.js</code>æ–‡ä»¶é‡Œå®ç°äº†<code>$mount</code>æ–¹æ³•ï¼Œè¿™é‡Œåˆè¦é‡æ–°å®ç°ä¸€éå‘¢ï¼Ÿå› ä¸º<code>runtime/index.js</code>é‡Œçš„<code>$mount</code>ä¸ç¼–è¯‘æ˜¯æ— å…³çš„ï¼Œæ— æ³•å¤„ç†<code>template</code>æ¨¡æ¿ä»£ç ï¼Œè€Œè¿™é‡Œé‡å†™çš„<code>$mount</code>å®é™…ä¸Šè¿˜æ˜¯è°ƒç”¨äº†<code>runtime/index.js</code>é‡Œçš„<code>$mount</code>ï¼Œä½†æ˜¯åœ¨æ­¤ä¹‹å‰ï¼Œå¢åŠ äº†ä»<code>template</code>åˆ°<code>render</code>çš„ç¼–è¯‘è¿‡ç¨‹ã€‚</p><h2 id="å®ä¾‹åŒ–è¿‡ç¨‹" tabindex="-1">å®ä¾‹åŒ–è¿‡ç¨‹ <a class="header-anchor" href="#å®ä¾‹åŒ–è¿‡ç¨‹" aria-hidden="true">#</a></h2><p>å‰é¢å·²ç»å°†<code>Vue</code>çš„å„ç§æ–¹æ³•å±æ€§æŒ‚è½½å®Œæ¯•ï¼Œç°åœ¨åˆ™æ˜¯éœ€è¦è¿›è¡Œå®ä¾‹åŒ–äº†ï¼Œä¹Ÿå°±æ˜¯è°ƒç”¨ä¹‹å‰æåˆ°çš„<code>_init</code>æ–¹æ³•ã€‚æ‰“å¼€<code>/src/core/instance/init.js</code>æ–‡ä»¶ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">Vue</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">_init</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">options</span><span style="color:#89DDFF;">?:</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Object</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">vm</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">Component</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">...</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 1. åˆå¹¶options</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#BABED8;">options</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">options</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">_isComponent</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#82AAFF;">initInternalComponent</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">vm</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">options</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#BABED8;">vm</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">$options</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">mergeOptions</span><span style="color:#F07178;">(</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#82AAFF;">resolveConstructorOptions</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">vm</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">constructor</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#BABED8;">options</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">||</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{},</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#BABED8;">vm</span></span>
<span class="line"><span style="color:#F07178;">      )</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">...</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 2. åˆå§‹åŒ–æ•°æ®</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">initLifecycle</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">vm</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">initEvents</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">vm</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">initRender</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">vm</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">callHook</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">vm</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">beforeCreate</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">initInjections</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">vm</span><span style="color:#F07178;">) </span><span style="color:#676E95;font-style:italic;">// resolve injections before data/props</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">initState</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">vm</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">initProvide</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">vm</span><span style="color:#F07178;">) </span><span style="color:#676E95;font-style:italic;">// resolve provide after data/props</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">callHook</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">vm</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">created</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 3. ç¼–è¯‘å¹¶æŒ‚è½½</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#BABED8;">vm</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">$options</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">el</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#BABED8;">vm</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">$mount</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">vm</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">$options</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">el</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>åœ¨åˆå§‹åŒ–çš„è¿‡ç¨‹ä¸­ï¼Œä¸»è¦åˆ†ä¸ºä¸‰ä¸ªé˜¶æ®µï¼š</p><p>é˜¶æ®µä¸€ï¼šåˆå¹¶é€‰é¡¹ï¼Œå°† <code>Vue.options</code>å’Œä¼ å…¥çš„<code>options</code>è¿›è¡Œåˆå¹¶ã€‚</p><p>é˜¶æ®µäºŒï¼šåˆå§‹åŒ–æ•°æ®ï¼Œå¹¶å¯¹æ•°æ®è¿›è¡Œå“åº”å¼å¤„ç†ã€‚</p><p>é˜¶æ®µä¸‰ï¼šç¼–è¯‘ä»£ç ï¼Œå¾—åˆ°<code>render</code>å‡½æ•°ï¼Œå°†<code>vnode</code>ç”ŸæˆçœŸå®èŠ‚ç‚¹ï¼Œå¹¶æŒ‚è½½åˆ°ç•Œé¢ã€‚</p><p>ç”±äºè¿™éƒ¨åˆ†æ¯”è¾ƒæ ¸å¿ƒï¼Œä¸”éš¾ä»¥ç†è§£ï¼Œè¿™é‡Œä»…åšäº†è§£ï¼Œåç»­ä¼šé€ä¸€è¿›è¡Œåˆ†æã€‚</p><h2 id="vueçš„æ•´ä½“è®¾è®¡" tabindex="-1">Vueçš„æ•´ä½“è®¾è®¡ <a class="header-anchor" href="#vueçš„æ•´ä½“è®¾è®¡" aria-hidden="true">#</a></h2><p>é€šè¿‡ä¸Šé¢çš„åˆ†æï¼Œæˆ‘ä»¬å·²ç»å¯¹<code>VueåŸå‹æ–¹æ³•</code>ï¼Œ<code>Vueé™æ€æ–¹æ³•å±æ€§</code>ï¼Œ<code>Vueå®ä¾‹åŒ–è¿‡ç¨‹</code>æœ‰äº†å¤§è‡´çš„äº†è§£ï¼Œä¸‹é¢æˆ‘ä»¬ç”¨å¼ å›¾æ€»ç»“ä¸‹æ•´ä½“çš„å†…å®¹ï¼Œä¹Ÿå°±æ˜¯Vueæ•´ä½“çš„è®¾è®¡æ€è·¯ã€‚</p><p><img src="`+p+'" alt="Vueç»„æˆä¸è®¾è®¡.png"></p><p>æ€»ç»“ä¸‹æ¥å°±æ˜¯ï¼š</p><ol><li>æ„å»ºä¸€ä¸ªå…·æœ‰å®Œå¤‡åŠŸèƒ½çš„æ„é€ å‡½æ•°ï¼Œå¹¶ä¸”åœ¨ä¸Šé¢æ·»åŠ å„ä¸ªæ¨¡å—éœ€è¦çš„æ–¹æ³•å±æ€§ã€‚åŒ…æ‹¬åŸå‹æ–¹æ³•å±æ€§å’Œé™æ€æ–¹æ³•å±æ€§ã€‚</li><li>è¿›è¡Œå®ä¾‹åŒ–ï¼Œåœ¨å®ä¾‹åŒ–è¿‡ç¨‹ä¸­è¿›è¡Œå„ç§å¤„ç†ï¼Œå…¶ä¸­åŒ…æ‹¬ï¼šé€‰é¡¹åˆå¹¶ï¼Œæ•°æ®å“åº”å¼å¤„ç†ï¼Œç¼–è¯‘ï¼Œè™šæ‹Ÿ<code>DOM</code>æ›´æ–°ç­‰ç­‰ã€‚</li></ol><p>è¿™é‡Œçš„æè¿°æ¯”è¾ƒç¬¼ç»Ÿï¼Œæ—¨åœ¨ä»æ•´ä½“ä¸Šæ¥å¯¹Vueè¿›è¡Œä¸€ä¸ªäº†è§£ã€‚åœ¨æ¥ä¸‹æ¥çš„ç« èŠ‚æˆ‘ä»¬ä¼šè¯¦ç»†åˆ†æå®ä¾‹åŒ–çš„æ•´ä¸ªè¿‡ç¨‹ï¼Œä»è€Œç”±ç‚¹åŠé¢çš„äº†è§£Vueã€‚ä¸‹ä¸€ç« èŠ‚æˆ‘ä»¬å°†å¼€å§‹<code>Vue</code>æ ¸å¿ƒä»£ç çš„æ­£å¼å­¦ä¹ ã€‚</p>',80),t=[e];function c(r,y,F,D,i,B){return n(),a("div",null,t)}const d=s(o,[["render",c]]);export{E as __pageData,d as default};
